#  ЁЯЪА р╕Ыр╕ер╕Фр╕ер╣Зр╕нр╕Д LINE Messaging API р╕Ир╕Ър╕Зр╕▓р╕Щ р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕ер╕░р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М р╣Др╕Ыр╕вр╕▒р╕З LINE р╕Фр╣Йр╕зр╕в ESP32 ESP8266
р╕лр╕бр╕Фр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▒р╕Ъ LINE API р╕Чр╕╡р╣Ир╕вр╕╕р╣Ир╕Зр╕вр╕▓р╕Бр╕Фр╣Йр╕зр╕вр╕Хр╕▒р╕зр╣Ар╕нр╕З AllnewstepLine р╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕Чр╕▒р╣Йр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б р╣Бр╕ер╕░р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М р╣Др╕Ыр╕вр╕▒р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й LINE р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡ р╣Вр╕Фр╕вр╣Гр╕Кр╣Й LINE Messaging API 
р╕Фр╣Йр╕зр╕вр╣Др╕ер╕Ър╕▓р╕гр╕╡р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б AllnewstepLine р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕в р╕кр╕│р╕лр╕гр╕▒р╕Ъ ESP32 р╣Бр╕ер╕░ ESP8266 р╕Ир╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╣Бр╕ер╕░р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Фр╣Ар╕зр╕ер╕▓р╣Гр╕Щр╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М IoT 

**AllnewstepLine** р╣Ар╕Ыр╣Зр╕Щр╣Др╕ер╕Ър╕▓р╕гр╕╡р╕кр╕│р╕лр╕гр╕▒р╕Ъ ESP32 ESP8266 р╕Чр╕╡р╣Ир╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕ер╕░р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Др╕Ыр╕вр╕▒р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й LINE р╣Вр╕Фр╕вр╣Гр╕Кр╣Й **LINE Messaging API** р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б, р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М, р╣Бр╕ер╕░р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з р╕лр╕ер╕▓р╕вр╕Др╕Щ р╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╕Др╕Щр╣Гр╕Щр╕Бр╕ер╕╕р╣Ир╕б р╕Ир╕Ър╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕гр╕зр╕Фр╣Ар╕гр╣Зр╕з
р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Вр╕Яр╕Бр╕▒р╕кр╕Бр╕▒р╕Ър╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡ р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Ар╕кр╕╡р╕вр╣Ар╕зр╕ер╕▓р╣Гр╕Щр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н API р╕лр╕гр╕╖р╕нр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕ер╕░р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Ар╕нр╕Зр╣Гр╕лр╣Йр╕вр╕╕р╣Ир╕Зр╕вр╕▓р╕Б

## р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤
- р╕кр╣Ир╕З **р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б** р╣Гр╕лр╣Йр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з, р╕лр╕ер╕▓р╕вр╕Др╕Щ р╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╕Др╕Щ
- р╕кр╣Ир╕З **р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М** р╣Гр╕лр╣Йр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з, р╕лр╕ер╕▓р╕вр╕Др╕Щ р╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╕Др╕Щ
- р╕кр╣Ир╕З **р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М** р╣Гр╕лр╣Йр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з, р╕лр╕ер╕▓р╕вр╕Др╕Щ р╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╕Др╕Щ
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕г **escape special characters** р╣Гр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (р╣Ар╕Кр╣Ир╕Щ р╕Бр╕▓р╕гр╣Бр╕Ыр╕ер╕З `\`, `"` р╣Бр╕ер╕░р╕нр╕╖р╣Ир╕Щ р╣Ж)

## р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

### р╕зр╕┤р╕Шр╕╡р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Гр╕Щ Arduino IDE

1. р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╣Др╕ер╕Ър╕▓р╕гр╕╡р╕Щр╕╡р╣Йр╕Ир╕▓р╕Б GitHub
2. р╣Др╕Ыр╕Чр╕╡р╣И **Sketch** > **Include Library** > **Add .ZIP Library** р╣Гр╕Щ Arduino IDE
3. р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣М .zip р╕Чр╕╡р╣Ир╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Бр╕ер╣Йр╕зр╕Др╕ер╕┤р╕Б **Open**
4. р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕ер╕Ър╕▓р╕гр╕╡р╕Щр╕╡р╣Йр╣Гр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Вр╕нр╕Зр╕Др╕╕р╕Ур╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡

### р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Ьр╣Ир╕▓р╕Щ GitHub

1. р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣Ир╕Ыр╕╕р╣Ир╕б **Clone or Download** р╕Ър╕Щр╕лр╕Щр╣Йр╕▓ GitHub repository р╕Вр╕нр╕Зр╕Др╕╕р╕У
2. р╕Др╕▒р╕Фр╕ер╕нр╕Б URL р╕лр╕гр╕╖р╕нр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М ZIP
3. р╕Цр╣Йр╕▓р╕Др╕╕р╕Ур╣Гр╕Кр╣Й Arduino IDE р╣Гр╕лр╣Йр╕Щр╕│р╣Др╕Яр╕ер╣Мр╣Др╕Ыр╣Др╕зр╣Йр╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `libraries` р╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Вр╕нр╕Зр╕Др╕╕р╕У

## р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Access Token

р╕Бр╣Ир╕нр╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╣Др╕ер╕Ър╕▓р╕гр╕╡р╕Щр╕╡р╣Йр╣Др╕Фр╣Й р╕Хр╣Йр╕нр╕Зр╕бр╕╡ **LINE Access Token** р╕Бр╣Ир╕нр╕Щ р╕Ир╕▓р╕Бр╕Чр╕╡р╣Ир╕Щр╕╡р╣И LINE Developers https://developers.line.biz/

### р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

#### 1. р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з: `Line.sendText("р╕кр╕зр╕▒р╕кр╕Фр╕╡ A", "userId");`
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╣Йр╕лр╕ер╕▓р╕вр╕Др╕Щ: `Line.sendText("р╕кр╕зр╕▒р╕кр╕Фр╕╡ A+B", "userId1,userId2");`
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╣Йр╕Чр╕╕р╕Бр╕Др╕Щ: `Line.sendText("р╕кр╕зр╕▒р╕кр╕Фр╕╡ 55/5", "");`

#### 2. р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М
- р╕кр╣Ир╕Зр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з: `Line.sendSticker("userId", "8515", "16581243");`
- р╕кр╣Ир╕Зр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕лр╕ер╕▓р╕вр╕Др╕Щ: `Line.sendSticker("userId1,userId2", "8515", "16581244");`
- р╕кр╣Ир╕Зр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕Чр╕╕р╕Бр╕Др╕Щ: `Line.sendSticker("", "8515", "16581243");`

#### 3. р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з: `Line.sendTextWithSticker("Hello Max", "userId", "8515", "16581242");`
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕лр╕ер╕▓р╕вр╕Др╕Щ: `Line.sendTextWithSticker("Hello A+B", "userId1,userId2", "8515", "16581242");`
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕Чр╕╕р╕Бр╕Др╕Щ: `Line.sendTextWithSticker("Hello All", "", "8515", "16581242");`

### р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ
- `sendText(String message, String userId)` : р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
- `sendSticker(String userId, String packageId, String stickerId)` : р╕кр╣Ир╕Зр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М
- `sendTextWithSticker(String message, String userId, String packageId, String stickerId)` : р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М
- `escapeStr(String message)` : р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Кр╣Ир╕зр╕вр╣Гр╕Щр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▒р╕Ър╕нр╕▒р╕Бр╕Вр╕гр╕░р╕Юр╕┤р╣Ар╕ир╕йр╣Гр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б

**AllnewstepLine** р╣Ар╕Ыр╣Зр╕Щр╣Др╕ер╕Ър╕▓р╕гр╕╡ р╣Бр╕Ир╕Бр╕Яр╕гр╕╡ р╕Чр╕╡р╣Ир╕кр╕░р╕Фр╕зр╕Бр╣Бр╕ер╕░р╕бр╕╡р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕ер╕░р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╕Ьр╣Ир╕▓р╕Щ **LINE Messaging API** р╕Ър╕Щ ESP32 р╕лр╕гр╕╖р╕н ESP8266 р╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б, р╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣М р╕лр╕гр╕╖р╕нр╣Бр╕бр╣Йр╣Бр╕Хр╣Ир╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Хр╕┤р╕Бр╣Ар╕Бр╕нр╕гр╣Мр╣Гр╕лр╣Йр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з, р╕лр╕ер╕▓р╕вр╕Др╕Щ р╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╕Др╕Щр╣Гр╕Щр╕Бр╕ер╕╕р╣Ир╕бр╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕гр╕зр╕Фр╣Ар╕гр╣Зр╕зр╣Бр╕ер╕░р╕Зр╣Ир╕▓р╕вр╕Фр╕▓р╕в р╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕нр╕Зр╣Ар╕Вр╕╡р╕вр╕Щр╣Вр╕Др╣Йр╕Фр╕вр╕▓р╕з р╣Ж р╣Гр╕лр╣Йр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╕Чр╕╡р╣И www.allnewstep.com


